(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{5351:(e,s,t)=>{Promise.resolve().then(t.bind(t,9765)),Promise.resolve().then(t.bind(t,9333))},9333:(e,s,t)=>{"use strict";t.d(s,{TestBooking:()=>c});var a=t(5155),n=t(2115),i=t(7168),l=t(8482),r=t(568);function c(){let[e,s]=(0,n.useState)(!1),[t,c]=(0,n.useState)(""),d=async()=>{s(!0),c("");try{let e=new Date;e.setDate(e.getDate()+1),console.log("\uD83E\uDDEA Testing availability check...");let s=await r.z.checkTimeSlotAvailability(e,"10:00 AM");c("✅ Availability check successful! 10:00 AM tomorrow is ".concat(s?"available":"not available")),console.log("✅ Test completed successfully")}catch(e){console.error("❌ Test failed:",e),c("❌ Test failed: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{s(!1)}},o=async()=>{s(!0),c("");try{let e=new Date;e.setDate(e.getDate()+1),console.log("\uD83E\uDDEA Testing booking submission...");let s=await r.z.submitBooking({name:"Test User",email:"test@example.com",message:"This is a test booking",serviceType:"consultation",date:e,timeSlot:"10:00 AM"});c("✅ Booking submission successful! ID: ".concat(s)),console.log("✅ Test completed successfully")}catch(e){console.error("❌ Test failed:",e),c("❌ Test failed: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{s(!1)}};return(0,a.jsxs)(l.Zp,{className:"w-full max-w-md mx-auto",children:[(0,a.jsx)(l.aR,{children:(0,a.jsx)(l.ZB,{children:"\uD83E\uDDEA Test Booking System"})}),(0,a.jsxs)(l.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.$,{onClick:d,disabled:e,className:"w-full",children:e?"Testing...":"Test Availability Check"}),(0,a.jsx)(i.$,{onClick:o,disabled:e,variant:"outline",className:"w-full",children:e?"Testing...":"Test Booking Submission"})]}),t&&(0,a.jsx)("div",{className:"p-3 rounded-md text-sm ".concat(t.startsWith("✅")?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"),children:t}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Check the browser console for detailed logs"})]})]})}},9765:(e,s,t)=>{"use strict";t.d(s,{AdminDashboard:()=>b});var a=t(5155),n=t(2115),i=t(8482),l=t(8145),r=t(7168),c=t(376),d=t(3999);let o=c.bL,m=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(c.B8,{ref:s,className:(0,d.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...n})});m.displayName=c.B8.displayName;let u=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(c.l9,{ref:s,className:(0,d.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...n})});u.displayName=c.l9.displayName;let x=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(c.UC,{ref:s,className:(0,d.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...n})});x.displayName=c.UC.displayName;var h=t(568),f=t(3008),g=t(3904),j=t(8883),p=t(9074),N=t(4186);function b(){let[e,s]=(0,n.useState)([]),[t,c]=(0,n.useState)([]),[d,b]=(0,n.useState)(!1),[v,y]=(0,n.useState)("contacts"),w=async()=>{b(!0);try{let[e,t]=await Promise.all([h.e.getContactSubmissions(),h.z.getBookings()]);s(e),c(t)}catch(e){console.error("Error fetching data:",e)}finally{b(!1)}};(0,n.useEffect)(()=>{w()},[]);let k=e=>{switch(e){case"new":return(0,a.jsx)(l.E,{variant:"secondary",children:"New"});case"pending":return(0,a.jsx)(l.E,{variant:"outline",children:"Pending"});case"confirmed":return(0,a.jsx)(l.E,{variant:"default",children:"Confirmed"});case"cancelled":return(0,a.jsx)(l.E,{variant:"destructive",children:"Cancelled"});default:return(0,a.jsx)(l.E,{variant:"secondary",children:e})}},T=e=>{if(!e)return"N/A";try{return(0,f.GP)(e.toDate(),"MMM dd, yyyy 'at' h:mm a")}catch(e){return"Invalid date"}};return(0,a.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),(0,a.jsxs)(r.$,{onClick:w,disabled:d,children:[(0,a.jsx)(g.A,{className:"h-4 w-4 mr-2 ".concat(d?"animate-spin":"")}),"Refresh"]})]}),(0,a.jsxs)(o,{value:v,onValueChange:y,children:[(0,a.jsxs)(m,{className:"grid w-full grid-cols-2",children:[(0,a.jsxs)(u,{value:"contacts",className:"flex items-center gap-2",children:[(0,a.jsx)(j.A,{className:"h-4 w-4"}),"Contact Forms (",e.length,")"]}),(0,a.jsxs)(u,{value:"bookings",className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-4 w-4"}),"Bookings (",t.length,")"]})]}),(0,a.jsx)(x,{value:"contacts",className:"mt-6",children:(0,a.jsxs)(i.Zp,{children:[(0,a.jsx)(i.aR,{children:(0,a.jsx)(i.ZB,{children:"Contact Form Submissions"})}),(0,a.jsx)(i.Wu,{children:d?(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsx)(g.A,{className:"animate-spin h-8 w-8"})}):0===e.length?(0,a.jsx)("p",{className:"text-center text-muted-foreground py-8",children:"No contact form submissions yet."}):(0,a.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,a.jsx)(i.Zp,{className:"p-4",children:(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("h4",{className:"font-semibold",children:e.name}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"•"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:e.email}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"•"}),k(e.status||"new")]}),(0,a.jsx)("h5",{className:"font-medium text-primary mb-2",children:e.subject}),(0,a.jsx)("p",{className:"text-muted-foreground",children:e.message}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:["Submitted: ",T(e.timestamp)]})]})})},e.id))})})]})}),(0,a.jsx)(x,{value:"bookings",className:"mt-6",children:(0,a.jsxs)(i.Zp,{children:[(0,a.jsx)(i.aR,{children:(0,a.jsx)(i.ZB,{children:"Consultation Bookings"})}),(0,a.jsx)(i.Wu,{children:d?(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsx)(g.A,{className:"animate-spin h-8 w-8"})}):0===t.length?(0,a.jsx)("p",{className:"text-center text-muted-foreground py-8",children:"No bookings yet."}):(0,a.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,a.jsx)(i.Zp,{className:"p-4",children:(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("h4",{className:"font-semibold",children:e.name}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"•"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:e.email}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"•"}),k(e.status||"pending")]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[(0,a.jsx)(p.A,{className:"h-4 w-4"}),(0,f.GP)(e.date,"MMM dd, yyyy")]}),(0,a.jsxs)("span",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[(0,a.jsx)(N.A,{className:"h-4 w-4"}),e.timeSlot]}),(0,a.jsx)(l.E,{variant:"outline",className:"capitalize",children:e.serviceType.replace("-"," ")})]}),(0,a.jsx)("p",{className:"text-muted-foreground",children:e.message}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:["Booked: ",T(e.timestamp)]})]})})},e.id))})})]})})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[135,975,549,398,441,684,358],()=>s(5351)),_N_E=e.O()}]);